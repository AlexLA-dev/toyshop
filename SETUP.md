# Инструкция по запуску и тестированию (для начинающих)

## Что это за проект?

"My Toy Shop" — веб-приложение (настольная игра), построенное на React + TypeScript + Vite.
В будущем планируется сборка под iOS через Capacitor.

---

## Что нужно установить заранее

### 1. Node.js (версия 18 или новее)

Node.js — это среда для запуска JavaScript вне браузера. Без неё ничего не заработает.

- **Windows / macOS**: скачайте установщик с [nodejs.org](https://nodejs.org/) (выберите LTS-версию)
- **Linux (Ubuntu/Debian)**:
  ```bash
  curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
  sudo apt-get install -y nodejs
  ```

Проверьте, что всё установилось:
```bash
node --version   # должно быть v18.x.x или выше
npm --version    # должно быть 9.x.x или выше
```

### 2. Git

Git — система контроля версий для работы с кодом.

- **Windows**: скачайте с [git-scm.com](https://git-scm.com/)
- **macOS**: `xcode-select --install` (или через Homebrew: `brew install git`)
- **Linux**: `sudo apt-get install git`

---

## Первый запуск (пошагово)

### Шаг 1. Клонируйте репозиторий

Если у вас ещё нет копии проекта:
```bash
git clone <URL-репозитория>
cd toyshop
```

Если проект уже скачан — просто откройте терминал в папке `toyshop`.

### Шаг 2. Установите зависимости

```bash
npm install
```

Эта команда прочитает файл `package.json` и скачает все необходимые библиотеки в папку `node_modules`.

> **Частая ошибка**: если `package.json` ещё не создан (проект на ранней стадии), эта команда не сработает. Тогда нужно сначала инициализировать проект — см. раздел "Инициализация с нуля" ниже.

### Шаг 3. Запустите проект в режиме разработки

```bash
npm run dev
```

После запуска в терминале появится ссылка вида `http://localhost:5173` — откройте её в браузере. Вы увидите приложение. Изменения в коде будут подхватываться автоматически (hot reload).

### Шаг 4. Запустите тесты

```bash
npm test
```

Если тесты ещё не написаны, команда сообщит об этом — это нормально на ранней стадии.

### Шаг 5. Проверьте код линтером

```bash
npm run lint
```

Линтер проверяет код на ошибки и соответствие стилю.

### Шаг 6. Соберите продакшн-версию

```bash
npm run build
```

Собранные файлы появятся в папке `dist/`. Для предпросмотра:

```bash
npm run preview
```

---

## Инициализация с нуля (если package.json ещё нет)

Если проект пока пустой (только README.md), нужно создать его каркас:

```bash
# Создать новый Vite-проект с React и TypeScript
npm create vite@latest . -- --template react-ts
```

> Точка `.` означает "создать в текущей папке". Если Vite спросит подтверждение — соглашайтесь.

Затем:

```bash
npm install
npm run dev
```

Готово — у вас рабочее React-приложение.

---

## Структура проекта

```
toyshop/
  src/          — исходный код приложения
  docs/         — документация и правила игры
  ios/          — iOS-сборка (Capacitor, не редактировать вручную)
  package.json  — список зависимостей и команд
  tsconfig.json — настройки TypeScript
  vite.config.ts — настройки сборщика Vite
```

---

## Полезные команды (шпаргалка)

| Команда            | Что делает                              |
|--------------------|----------------------------------------|
| `npm install`      | Установить зависимости                  |
| `npm run dev`      | Запустить dev-сервер (с hot reload)     |
| `npm test`         | Запустить тесты                         |
| `npm run lint`     | Проверить код линтером                  |
| `npm run format`   | Отформатировать код                     |
| `npm run build`    | Собрать продакшн-версию                |
| `npm run preview`  | Предпросмотр собранной версии           |

---

## Частые проблемы

### `npm install` выдаёт ошибки
- Убедитесь, что Node.js версии 18+: `node --version`
- Удалите `node_modules` и `package-lock.json`, потом повторите: `rm -rf node_modules package-lock.json && npm install`

### Порт 5173 уже занят
- Vite автоматически выберет другой порт, или можно указать вручную: `npm run dev -- --port 3000`

### TypeScript ругается на типы
- Это нормально при строгом режиме (`strict: true`). Исправьте указанные ошибки — это часть quality bar проекта.

### `npm test` ничего не делает
- Тесты ещё не написаны. По плану они появятся для логики подсчёта очков.
